" vim: set ft=vimperator:

"3.8.2 (created: 2014/02/13 23:52:43)

" source! /home/pocke/.vimperatorrc.local







"   -------------- keybind

inoremap <M-a> <Ins><C-a><Ins>
inoremap <C-m> <CR>
inoremap <C-n> <Esc>gt
inoremap <C-p> <Esc>gT
inorema <C-S-n> <Esc>:tabmove +1<CR>
inorema <C-S-p> <Esc>:tabmove -1<CR>


nnorema <C-S-n> :tabmove +1<CR>
nnorema <C-S-p> :tabmove -1<CR>

nnoremap s :tabopen<Space>google<Space>
nnorema gr :tabopen<Space>google<Space>site:https://docs.ruby-lang.org<Space>
nnoremap <silent> <Esc> :<C-u>nohlsearch<CR>
nnoremap ; :
nnoremap : ;
nnoremap <S-C-w> <Nop>
nnoremap y :js util.copyToClipboard(buffer.URL, true)<CR>
nnoremap Y :js util.copyToClipboard(("[" + buffer.title + "]" + "(" + buffer.URL + ")"), true)<CR>
nnoremap <C-d> <PageDown>
nnoremap <C-u> <PageUp>

nnoremap <C-1> :tabn 1<CR>
nnoremap <C-2> :tabn 2<CR>
nnoremap <C-3> :tabn 3<CR>
nnoremap <C-4> :tabn 4<CR>
nnoremap <C-5> :tabn 5<CR>
nnoremap <C-6> :tabn 6<CR>
nnoremap <C-7> :tabn 7<CR>
nnoremap <C-8> :tabn 8<CR>
nnoremap <C-9> :tabn 9<CR>

inoremap <C-1> <Esc>:tabn 1<CR>
inoremap <C-2> <Esc>:tabn 2<CR>
inoremap <C-3> <Esc>:tabn 3<CR>
inoremap <C-4> <Esc>:tabn 4<CR>
inoremap <C-5> <Esc>:tabn 5<CR>
inoremap <C-6> <Esc>:tabn 6<CR>
inoremap <C-7> <Esc>:tabn 7<CR>
inoremap <C-8> <Esc>:tabn 8<CR>
inoremap <C-9> <Esc>:tabn 9<CR>




" --------------------- set options

" ignore auto focus
set focuscontent

set hintchars=;fjasdghklqwertyuiopzxcvbnm

set visualbell
hi Bell display: none;





" -------------------------- highlight
highlight! Hint font-size: 10pt; background: yellow; color: black; border: 1px solid black; font-family: Ricty; font-waight: bolder;


js services.services.autoCompleteSearch.class_="@mozilla.org/autocomplete/search;1?name=unifiedcomplete"

js <<END
function __vimperator_ggc() {
  if (window.content.window.document.querySelector('.fork-flag')) {
    return;
  }

  const paths = buffer.URL.split('/');
  const host = paths[2];
  const owner = paths[3];
  const repo = paths[4];
  if (typeof owner === 'undefined' || typeof repo === 'undefined') {
    return;
  }

  const lang_el = window.content.window.document.querySelector('.lang');
  if (!lang_el) {
    return;
  }
  const lang = lang_el.textContent;

  fetch(
    `http://localhost:8080?host=${host}&owner=${owner}&repo=${repo}&lang=${lang}`,
    {method: 'POST'}
  );
}
END

autocmd PageLoad github.com/* js __vimperator_ggc()
