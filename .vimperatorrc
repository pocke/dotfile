" vim: set ft=vimperator:

"3.8.2 (created: 2014/02/13 23:52:43)

" source! /home/pocke/.vimperatorrc.local







"   -------------- keybind

inoremap <C-a> <Ins><C-a><Ins>
inoremap <C-m> <CR>
nnoremap s :tabopen<Space>google<Space>
nnoremap <silent> <Esc> :<C-u>nohlsearch<CR>
nnoremap ; :
nnoremap : ;
nnoremap <S-C-w> <Nop>
nnoremap y :js util.copyToClipboard(buffer.URL, true)<CR>
nnoremap Y :js util.copyToClipboard(("[" + buffer.title + "]" + "(" + buffer.URL + ")"), true)<CR>
nnoremap <C-d> <PageDown>
nnoremap <C-u> <PageUp>




" --------------------- set options

" ignore auto focus
set focuscontent

set hintchars=;fjasdghklqwertyuiopzxcvbnm






" -------------------------- highlight
highlight! Hint font-size: 10pt; background: yellow; color: black; border: 1px solid black; font-family: Ricty; font-waight: bolder;


js services.services.autoCompleteSearch.class_="@mozilla.org/autocomplete/search;1?name=unifiedcomplete"

js <<END
function __vimperator_ggc() {
  const paths = buffer.URL.split('/');

  const host = paths[2];
  const owner = paths[3];
  const repo = paths[4];
  if (typeof owner === 'undefined' || typeof repo === 'undefined') {
    return;
  }

  fetch(
    `http://localhost:8080?host=${host}&owner=${owner}&repo=${repo}`,
    {mode: 'cors', method: 'POST'}
  );
}
END

autocmd PageLoad github.com/* js __vimperator_ggc()
